<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chơi Game</title>
</head>
<body>

    <h1 id="gameTitle">Đang tải game...</h1>
    <iframe id="gameFrame" width="400" height="600" frameborder="0"></iframe>



    <script>
        async function loadGame() {
            const params = new URLSearchParams(window.location.search);
            const gameId = params.get("game");

            const response = await fetch(`http://localhost:5000/api/games/get?id=${gameId}`);
            if (!response.ok) {
                document.getElementById("gameTitle").innerText = "Lỗi khi tải game!";
                return;
            }
            if (response.status === 404) {
                document.getElementById("gameTitle").innerText = "Game không tồn tại!";
                return;
            }
            const game = await response.json();

            if (game) {
                document.getElementById("gameTitle").innerText = game.title;
                document.getElementById("gameFrame").src = game.iframe_url;
            } else {
                document.getElementById("gameTitle").innerText = "Game không tồn tại!";
            }
        }

        loadGame();
    </script>

</body>
</html>
